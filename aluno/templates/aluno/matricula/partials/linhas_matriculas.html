{% load status_tags %}

{% for m in matriculas %}
<tr>
    <td class="text-center">
        <button class="rounded-circle bg-light text-dark border-success">
            {{ m.numero }}
        </button>
    </td>
    <td>{{ m.aluno.nome }}</td>
    <td class="{{ m.situacao|css_situacao }}">
        {{ m.situacao|descricao_situacao }}
    </td>
    <td class="text-center">{{ m.data_matricula|data_br }}</td>
    <td class="text-center text-danger">{{ m.data_movimentacao|data_br }}</td>
    <td class="text-center">
        <button class="btn btn-outline-dark btn-lg movimentar" value="{{ m.id }}"
            data-bs-toggle="modal" data-bs-target="#movimentarModal">
            <i class="bi bi-arrow-down-up"></i>
        </button>
    </td>
    <td class="text-center">
        <button class="btn btn-outline-dark btn-lg excluir" value="{{ m.id }}">
            <i class="bi bi-trash3-fill"></i>
        </button>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="7" class="text-center text-muted">
        Nenhuma matrícula encontrada
    </td>
</tr>
{% endfor %}

{% if page_obj.paginator.num_pages > 1 %}
<tr>
    <td colspan="7">
        <nav>
            <ul class="pagination justify-content-center mt-2">

                {% if page_obj.has_previous %}
                <li class="page-item">
                    <a href="#" class="page-link pagina"
                       data-page="{{ page_obj.previous_page_number }}">
                        «
                    </a>
                </li>
                {% endif %}

                {% for num in page_obj.paginator.page_range %}
                <li class="page-item {% if page_obj.number == num %}active{% endif %}">
                    <a href="#" class="page-link pagina" data-page="{{ num }}">
                        {{ num }}
                    </a>
                </li>
                {% endfor %}

                {% if page_obj.has_next %}
                <li class="page-item">
                    <a href="#" class="page-link pagina"
                       data-page="{{ page_obj.next_page_number }}">
                        »
                    </a>
                </li>
                {% endif %}
            </ul>
        </nav>
    </td>
</tr>
{% endif %}
