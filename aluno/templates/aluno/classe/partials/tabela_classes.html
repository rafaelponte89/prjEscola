{# ========================= #}
{# ABAS POR SÉRIE            #}
{# ========================= #}

<ul class="nav nav-tabs" role="tablist">

  {% for serie, classes in classes_por_serie.items %}
    <li class="nav-item" role="presentation">
      <button
        class="nav-link {% if forloop.first %}active{% endif %}"
        data-bs-toggle="tab"
        data-bs-target="#serie-{{ serie }}"
        type="button"
        role="tab">

        {{ serie }}º Ano

        <span class="badge bg-dark ms-2">
          {{ classes|length }}
        </span>

      </button>
    </li>
  {% endfor %}

</ul>

{# ========================= #}
{# CONTEÚDO DAS ABAS         #}
{# ========================= #}

<div class="tab-content mt-3">

  {% for serie, classes in classes_por_serie.items %}
    <div
      class="tab-pane fade {% if forloop.first %}show active{% endif %}"
      id="serie-{{ serie }}"
      role="tabpanel">

      <table class="table table-hover table-bordered table-success m-2">

        <thead class="text-center">
          <tr>
            <th>Série</th>
            <th>Turma</th>
            <th>Período</th>
            <th>Atualizar</th>
            <th>Visualizar</th>
          </tr>
        </thead>

        <tbody class="corpoTabelaTurmas">

          {% for c in classes %}
            <tr>
              <td class="text-center">{{ c.serie }}</td>
              <td class="text-center">{{ c.turma }}</td>
              <td class="text-center">{{ c.get_periodo_display }}</td>

              <td class="text-center">
                <button
                  type="button"
                  class="btn btn-outline-dark btn-lg atualizar"
                  data-id="{{ c.id }}"
                  data-bs-toggle="modal"
                  data-bs-target="#atualizarModal">
                  <i class="bi bi-arrow-repeat"></i>
                </button>
              </td>

              <td class="text-center">
                <button
                  type="button"
                  class="btn btn-outline-dark btn-lg visualizar"
                  data-id="{{ c.id }}"
                  data-bs-toggle="modal"
                  data-bs-target="#visualizarClasseModal">
                  <i class="bi bi-eye"></i>
                </button>
              </td>
            </tr>

          {% empty %}
            <tr>
              <td colspan="5" class="text-center text-muted">
                Nenhuma classe cadastrada
              </td>
            </tr>
          {% endfor %}

        </tbody>
      </table>

    </div>
  {% endfor %}

</div>
